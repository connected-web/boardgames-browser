(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{349:function(e,a,t){e.exports="undefined"!=typeof window?window.localStorage:new(0,t(353).LocalStorage)("./temp/localStorage")},351:function(e,a,t){"use strict";t(191);var r=t(88);t(31),t(350),t(85),t(198),t(7);var n=function(e){var a=decodeURI(e);if("string"==typeof a)return(a.split("?")[1]||"").split("#")[0].split("&").map((function(e){return e.split("=")})).reduce((function(e,a){var t=Object(r.a)(a,2),n=t[0],s=t[1];return n&&(e[n]=s),e}),{})},s=t(349),o=t.n(s),u={boardgamesApiUrl:"https://boardgames-api.calisaurus.net",boardgamesSamApiUrl:"https://nn58gn0krl.execute-api.eu-west-2.amazonaws.com/Prod",params:{},lastDateCode:!1};function i(){var e,a,t=function(){var e;try{e=JSON.parse(o.a.getItem("sharedModel")||"{}")}catch(e){console.log("Invalid stored state found:",e.message)}return e||{}}();Object.assign(u,t),"undefined"!=typeof document&&(u.params=n(document.location)),null!==(e=u.params)&&void 0!==e&&e.dateCode&&(u.lastDateCode=u.params.dateCode),a=JSON.stringify(u),o.a.setItem("sharedModel",a)}u.boardgamesApiUrlStatus="".concat(u.boardgamesApiUrl,"/api/status"),u.boardgamesSamApiUrlStatus="".concat(u.boardgamesSamApiUrl,"/status"),i();a.a={update:i,state:u,getAuthHeaders:function(){var e=void 0!==o.a?o.a:{getItem:function(){return"Local"}};return{"calisaurus-user":e.getItem("api-user-name"),"calisaurus-user-api-key":e.getItem("api-user-key")}}}},354:function(e,a,t){var r=t(355).default;t(115),t(7),t(191);var n=t(361),s=t(356),o=t(349),u={};function i(e){return c.apply(this,arguments)}function c(){return(c=r(regeneratorRuntime.mark((function e(a){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l(a),e.next=3,v(a);case 3:return r=e.sent,e.abrupt("return",r||t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return m.apply(this,arguments)}function m(){return(m=r(regeneratorRuntime.mark((function e(a){var t,r,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get(a);case 2:return t=e.sent,r=t.data,u=s(a),o.setItem(u,JSON.stringify(r)),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return p.apply(this,arguments)}function p(){return(p=r(regeneratorRuntime.mark((function e(a){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s(a),r=o.getItem(t);try{n=JSON.parse(r)}catch(e){n=!1}return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=r(regeneratorRuntime.mark((function e(a){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i(a),u[a]=t,e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={get:function(e){var a=u[e]||function(e){return _.apply(this,arguments)}(e);return Promise.resolve(a)}};e.exports=d},424:function(e,a,t){},503:function(e,a,t){"use strict";t(424)},538:function(e,a,t){"use strict";t.r(a);var r=t(54),n=t(58),s=(t(367),t(363),t(39),t(7),t(374),t(423),t(17),t(19),t(85),t(199),t(200),t(115),t(354)),o=t.n(s),u=t(351).a.state.boardgamesApiUrl;function i(e){return c.apply(this,arguments)}function c(){return(c=Object(n.a)(regeneratorRuntime.mark((function e(a){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(u,"/api/boardgame/by/").concat(a));case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.game);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l={props:["gameId"],data:function(){return{message:"Loading data from ".concat(u),activeYear:!1,game:{}}},beforeMount:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i(e.gameId);case 2:e.game=a.sent,e.message=!1;case 4:case"end":return a.stop()}}),a)})))()},computed:{filteredPlayRecords:function(){var e=this,a=(this.game.playRecords||[]).sort((function(e,a){var t=Date.parse(e.date);return Date.parse(a.date)-t}));return this.activeYear?a.filter((function(a){return a.date.substring(0,4)===e.activeYear})):a}},methods:{fmp:function(e){return(100*Math.min(e,1)).toFixed(0)+"%"},yearsFor:function(e){return Object(r.a)(new Set(e.map((function(e){return e.date.substring(0,4)}))))},selectedYearClass:function(e,a){return[e,a===this.activeYear&&"selected"].filter((function(e){return e})).join(" ")},selectYear:function(e){this.activeYear=e}}},m=(t(503),t(56)),v=Object(m.a)(l,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"boardgame-list"},[e.message?t("p",[e._v(e._s(e.message))]):e._e(),e._v(" "),e.game.name?t("div",[t("h2",[e._v(e._s(e.game.name))]),e._v(" "),t("stat-value",{attrs:{label:"Board Game Geek Name"}},[e._v(e._s(e.game.boardGameGeekName))]),e._v(" "),t("stat-value",{attrs:{label:"Board Game API ID"}},[e._v(e._s(e.game.boardGameApiId))]),e._v(" "),t("hr"),e._v(" "),t("h3",[e._v("Play Summary")]),e._v(" "),t("div",{staticClass:"play summary"},[t("stat-value",{attrs:{label:"Total Games Played"}},[e._v(e._s(e.game.totalGamesPlayed))]),e._v(" "),t("p",e._l(e.game.playRecords,(function(a,r){return t("game-stat-box",{key:"gameStat_"+a.date+"_"+r,attrs:{game:a,name:e.game.name}})})),1),e._v(" "),t("game-stat-key")],1),e._v(" "),e.game.coOpGamesPlayedCount>0?t("div",[t("h3",[e._v("Co-op Stats")]),e._v(" "),t("stat-value",{attrs:{label:"Co-op Games Played Count"}},[e._v(e._s(e.game.coOpGamesPlayedCount))]),e._v(" "),t("stat-value",{attrs:{label:"Co-op Games Played Percentage"}},[e._v(e._s(e.fmp(e.game.coOpGamesPlayedPercentage)))]),e._v(" "),t("hr"),e._v(" "),t("stat-value",{attrs:{label:"Co-op Game Wins"}},[e._v(e._s(e.game.coOpGameWins))]),e._v(" "),t("stat-value",{attrs:{label:"Co-op Game Loses"}},[e._v(e._s(e.game.coOpGameLoses))]),e._v(" "),t("hr"),e._v(" "),t("stat-value",{attrs:{label:"Co-op Win Rate"}},[e._v(e._s(e.fmp(e.game.coOpWinRate)))]),e._v(" "),t("stat-value",{attrs:{label:"Co-op Loss Rate"}},[e._v(e._s(e.fmp(e.game.coOpLossRate)))])],1):t("div",[t("h3",[e._v("Vs Stats")]),e._v(" "),t("stat-value",{attrs:{label:"Winnable games total"}},[e._v(e._s(e.game.winnableGamesTotal))]),e._v(" "),t("stat-value",{attrs:{label:"Most won games of "+e.game.name}},[e._v(e._s(e.game.mostWonGames))]),e._v(" "),t("hr"),e._v(" "),t("stat-value",{attrs:{label:"Number of games won by Hannah"}},[e._v(e._s(e.game.winCountHannah))]),e._v(" "),t("stat-value",{attrs:{label:"Number of games won by John"}},[e._v(e._s(e.game.winCountJohn))]),e._v(" "),t("stat-value",{attrs:{label:"Number of games won by Others"}},[e._v(e._s(e.game.winCountOther))]),e._v(" "),t("stat-value",{attrs:{label:"Number of games drawn"}},[e._v(e._s(e.game.winCountDraw))]),e._v(" "),t("hr"),e._v(" "),t("stat-value",{attrs:{label:"Win Percentage for Hannah"}},[e._v(e._s(e.fmp(e.game.winPercentageHannah)))]),e._v(" "),t("stat-value",{attrs:{label:"Win Percentage for John"}},[e._v(e._s(e.fmp(e.game.winPercentageJohn)))]),e._v(" "),t("stat-value",{attrs:{label:"Win Percentage for Other"}},[e._v(e._s(e.fmp(e.game.winPercentageOther)))]),e._v(" "),t("stat-value",{attrs:{label:"Draw Percentage"}},[e._v(e._s(e.fmp(e.game.winPercentageDraw)))])],1),e._v(" "),t("h3",[e._v("Play Records")]),e._v(" "),t("div",{staticClass:"play records"},[t("p",{staticClass:"by-year"},[t("span",{class:e.selectedYearClass("year-in-use",!1),on:{click:function(a){return e.selectYear(!1)}}},[e._v("All Records")]),e._v(" "),e._l(e.yearsFor(e.game.playRecords),(function(a){return t("span",{key:a,class:e.selectedYearClass("year-in-use",a),on:{click:function(t){return e.selectYear(a)}}},[e._v(e._s(a))])}))],2),e._v(" "),t("p",[e._v("Found "+e._s(e.filteredPlayRecords.length)+" play records:")]),e._v(" "),e._l(e.filteredPlayRecords,(function(a,r){return t("p",{key:"playRecord_"+a.date+"_"+r},[t("stat-value",{attrs:{label:a.date}},[t("game-stat-box",{attrs:{game:a,name:e.game.name}}),e._v(" "),t("span",[e._v(e._s(a.winner||a.coOpOutcome))])],1),e._v(" "),a.gameFamily?t("stat-value",{attrs:{label:"Game Family"}},[e._v(e._s(a.gameFamily))]):e._e(),e._v(" "),a.notes?t("stat-value",{attrs:{label:"Notes"}},[e._v(e._s(a.notes))]):e._e()],1)}))],2)],1):e.gameId?t("div"):t("div",[e._m(0)])])}),[function(){var e=this.$createElement,a=this._self._c||e;return a("p",[this._v("No Board Game ID set - "),a("a",{attrs:{href:"./"}},[this._v("back to index")]),this._v("?")])}],!1,null,"5ac18039",null);a.default=v.exports}}]);